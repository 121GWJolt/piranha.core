piranha.comment=new Vue({el:"#comments",data:{loading:!0,items:[]},methods:{load:function(){var n=this;fetch(piranha.baseUrl+"manager/api/comment").then(function(n){return n.json()}).then(function(t){n.items=t.comments}).catch(function(n){console.log("error:",n)})},approve:function(n){var t=this;fetch(piranha.baseUrl+"manager/api/comment/approve/"+n).then(function(n){return n.json()}).then(function(n){n.status&&piranha.notifications.push(n.status),t.items=n.comments}).catch(function(n){console.log("error:",n)})},unapprove:function(n){var t=this;fetch(piranha.baseUrl+"manager/api/comment/unapprove/"+n).then(function(n){return n.json()}).then(function(n){n.status&&piranha.notifications.push(n.status),t.items=n.comments}).catch(function(n){console.log("error:",n)})},toggleApproved:function(n){n.isApproved=!n.isApproved,n.isApproved?this.approve(n.id):this.unapprove(n.id)},remove:function(n){console.log("remove")}},updated:function(){this.loading=!1}});